<config>
    <!-- Application-specific Parameters -->
    <param name="application.host">ci.kpme.kuali.org</param>
    <param name="appserver.url">${application.http.scheme}://${application.host}</param>
    <param name="app.context.name">${app.code}-${environment}</param>
    <param name="context.names.rice">kr-${environment}</param>

    <!-- KPME Client DB -->
    <param name="datasource.url">@kpme.dataSource.jdbcUrl@</param>
    <param name="datasource.username">@kpme.dataSource.username@</param>
    <param name="datasource.password">@kpme.dataSource.password@</param>

    <!-- Rice Server DB -->
    <param name="server.datasource.url">@kr.dataSource.jdbcUrl@</param>
    <param name="server.datasource.username">@kr.dataSource.username@</param>
    <param name="server.datasource.password">@kr.dataSource.password@</param>

    <!-- Embedded Mode Server URL -->
    <param name="rice.server.url">${application.http.scheme}://${application.host}/kr-${environment}</param>    
    <param name="kim.mode">EMBEDDED</param>
    <param name="kcb.mode">EMBEDDED</param>
    <param name="kew.mode">EMBEDDED</param>
    <param name="ken.mode">REMOTE</param>
    <param name="ksb.mode">REMOTE</param>
    <param name="kns.mode">LOCAL</param>
    <param name="krms.mode">REMOTE</param>
    <param name="coreservice.mode">REMOTE</param>
    <param name="location.mode">REMOTE</param>
    <param name="core.mode">LOCAL</param>

    <param name="dev.mode">false</param>

    <param name="rice.ksb.web.forceEnable">true</param>
    <param name="rice.portal.links.showRiceServerConfig">true</param>
    
    <param name="log4j.settings.path">${user.home}/kuali/main/shared/log4j.properties</param>
    <param name="log4j.settings.reloadInterval">5</param>

    <param name="keystore.alias">rice</param>
    <param name="keystore.file">${user.home}/kuali/main/shared/rice.keystore</param>
    <param name="keystore.password">r1c3pw</param>
    <param name="encryption.key">7IC64w6kAAAA</param>
    
    <!-- CAS Configuration -->
    <param name="cas.url">http://ci.kpme.kuali.org/cas-release</param>
    
    <param name="filter.logout.class">org.jasig.cas.client.session.SingleSignOutFilter</param>
    <param name="filtermapping.logout.1">/*</param>

    <param name="filter.login.class">org.jasig.cas.client.authentication.AuthenticationFilter</param>
    <param name="filter.login.casServerLoginUrl">${cas.url}/login</param>
    <param name="filter.login.serverName">${appserver.url}</param>
    <param name="filtermapping.login.2">/*</param>

    <param name="filter.validation.class">org.jasig.cas.client.validation.Cas20ProxyReceivingTicketValidationFilter</param>
    <param name="filter.validation.casServerUrlPrefix">${cas.url}</param>
    <param name="filter.validation.serverName">${appserver.url}</param>
    <param name="filtermapping.validation.3">/*</param>

    <param name="filter.caswrapper.class">org.jasig.cas.client.util.HttpServletRequestWrapperFilter</param>
    <param name="filtermapping.caswrapper.4">/*</param>

    <param name="listener.logout.class">org.jasig.cas.client.session.SingleSignOutHttpSessionListener</param>

    <param name="rice.portal.logout.redirectUrl">${cas.url}/logout</param>
    
    <!-- KPME Configuration -->
    <param name="kpme.notifications.enabled">true</param>
    
    <param name="kpme.batch.accrual.cronExpression">0 0 0 1 * ?</param>
    <param name="kpme.batch.leaveCalendarDelinquency.cronExpression">0 0 0 1 * ?</param>

</config>
