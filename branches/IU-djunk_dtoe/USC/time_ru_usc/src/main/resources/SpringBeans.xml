
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd">

	<aop:aspectj-autoproxy/>

   <!-- Properties  10/20/08   -->
   <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="properties" ref="configProperties" />
    </bean>
   <bean id="configProperties" class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
        <property name="targetObject" ref="config" />
        <property name="targetMethod" value="getProperties" />
    </bean>
    <bean id="config" class="org.kuali.rice.core.config.spring.ConfigFactoryBean">
        <property name="configLocations">
            <list>
                <value>classpath:META-INF/tk-config.xml</value>
            </list>
        </property>
    </bean>
    
   <!--//Properties  10/20/08 -->

	<bean id="contextParameters" class="edu.iu.uis.hr.ContextParameters">
		<property name="applicationCode">
			<value>tk</value>
		</property>
		<property name="environment">
			<value>${environment}</value>
		</property>
		<property name="settingsPath">
			<value>${config.dir}/</value>
		</property>
		<property name="securityPath">
			<value>${security.dir}/</value>
		</property>
		<property name="usingWorkflow">
			<value>true</value>
		</property>
		<property name="runningBatchProgram">
			<value>false</value>
		</property>
		<property name="workflowBaseUrl">
			<value>${workflow.url}</value>
		</property>
	</bean>

	<bean id="logAspect" class="edu.iu.uis.hr.tk.log.LogAspect" />

    <bean id="jotm" class="org.springframework.transaction.jta.JotmFactoryBean">
        <property name="defaultTimeout" value="3600"/>
    </bean>

    <bean id="ojbConfigurer" class="org.kuali.rice.core.ojb.JtaOjbConfigurer">
        <property name="transactionManager" ref="jotm" />
    </bean>

	<bean id="tkDataSource" class="org.kuali.rice.core.database.XAPoolDataSource">
        <property name="transactionManager" ref="jotm" />
        <property name="driverClassName" value="${tk.datasource.driver.name}" />
        <property name="maxSize" value="${tk.datasource.pool.maxSize}" />
        <property name="minSize" value="${tk.datasource.pool.minSize}" />
        <property name="maxWait" value="${tk.datasource.pool.maxWait}" />
        <property name="validationQuery" value="${tk.datasource.pool.validationQuery}" />
        <property name="url" value="${tk.datasource.url}" />
        <property name="username" value="${tk.datasource.username}" />
        <property name="password" value="${tk.datasource.password}" />
    </bean>


	<bean id="hreDataSource" class="org.kuali.rice.core.database.XAPoolDataSource">
        <property name="transactionManager" ref="jotm" />
        <property name="driverClassName" value="${hre.datasource.driver.name}" />
        <property name="maxSize" value="${hre.datasource.pool.maxSize}" />
        <property name="minSize" value="${hre.datasource.pool.minSize}" />
        <property name="maxWait" value="${hre.datasource.pool.maxWait}" />
        <property name="validationQuery" value="${hre.datasource.pool.validationQuery}" />
        <property name="url" value="testing" />
        <property name="username" value="${hre.datasource.username}" />
        <property name="password" value="${hre.datasource.password}" />
    </bean>

    <bean id="enWorkflowDataSource" class="org.kuali.rice.core.database.XAPoolDataSource">
        <property name="transactionManager" ref="jotm" />
        <property name="driverClassName" value="${eden.datasource.driver.name}" />
        <property name="maxSize" value="${eden.datasource.pool.maxSize}" />
        <property name="minSize" value="${eden.datasource.pool.minSize}" />
        <property name="maxWait" value="${eden.datasource.pool.maxWait}" />
        <property name="validationQuery" value="${eden.datasource.pool.validationQuery}" />
        <property name="url" value="${eden.datasource.url}" />
        <property name="username" value="${eden.datasource.username}" />
        <property name="password" value="${eden.datasource.password}" />
    </bean>

	<bean id="hrSudsDataSource" class="org.kuali.rice.core.database.XAPoolDataSource">
        <property name="transactionManager" ref="jotm" />
        <property name="driverClassName" value="${suds.datasource.driver.name}" />
        <property name="maxSize" value="${suds.datasource.pool.maxSize}" />
        <property name="minSize" value="${suds.datasource.pool.minSize}" />
        <property name="maxWait" value="${suds.datasource.pool.maxWait}" />
        <property name="validationQuery" value="${suds.datasource.pool.validationQuery}" />
        <property name="url" value="${suds.datasource.url}" />
        <property name="username" value="${suds.datasource.username}" />
        <property name="password" value="${suds.datasource.password}" />
    </bean>

	<bean id="nonTransDataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <property name="driverClassName" value="${tk.datasource.driver.name}" />
        <property name="maxWait" value="30000" />
        <property name="validationQuery" value="select 1 from dual" />
        <property name="url" value="${tk.datasource.url}" />
        <property name="username" value="${tk.datasource.username}" />
        <property name="password" value="${tk.datasource.password}" />
        <property name="maxActive" value="50" />
        <property name="minIdle" value="3" />
        <property name="initialSize" value="3" />
    </bean>

	<bean id="ksbScheduler" class="org.springframework.scheduling.quartz.SchedulerFactoryBean" destroy-method="stop" lazy-init="true">
		<property name="jobListeners">
			<list>
				<bean class="org.kuali.rice.ksb.messaging.quartz.MessageServiceExecutorJobListener"/>
			</list>
		</property>
		<property name="quartzProperties">
	        <props>
	          <prop key="org.quartz.scheduler.instanceName">TK Scheduler</prop>
	          <prop key="org.quartz.scheduler.instanceId">AUTO</prop>
	          <prop key="org.quartz.jobStore.isClustered">true</prop>
	          <prop key="org.quartz.jobStore.driverDelegateClass">org.quartz.impl.jdbcjobstore.oracle.OracleDelegate</prop>
	          <prop key="org.quartz.threadPool.threadCount">1</prop>
	          <prop key="org.quartz.jobStore.clusterCheckinInterval">1000</prop>
	        </props>
      	</property>
      	<property name="waitForJobsToCompleteOnShutdown" value="false"/>
		<property name="transactionManager" ref="transactionManager"/>
		<property name="dataSource" ref="tkDataSource" />
		<property name="nonTransactionalDataSource" ref="nonTransDataSource" />
	</bean>
 
 <!--  
   <bean id="tkAuthenticationService" class="edu.iu.uis.hr.tk.authorization.TimeAuthorizationServiceImpl">
       <property name="workgroupName" value="TK_INTERFACE_MANAGER"/>
    </bean>
-->

    <bean id="rice" class="org.kuali.rice.core.config.RiceConfigurer" >
        <property name="dataSource" ref="tkDataSource" />
        <property name="serverDataSource" ref="enWorkflowDataSource" />
        <property name="transactionManager" ref="jotm" />
        <property name="userTransaction" ref="jotm" />
        <property name="rootResourceLoader">
            <bean class="org.kuali.rice.core.resourceloader.SpringBeanFactoryResourceLoader" />
        </property>
        
        <property name="rootConfig" ref="config" />
        <!--  RICE UPGRADE 0.9.x to 1.1.1  -->
        <!--  Removed  -->
        <!--  <property name="messageEntity" value="TK" /> -->
        <property name="environment" value="${environment}" />
        <property name="serviceNamespace" value="TK" />
        
	<property name="ksbConfigurer">
		<bean class="org.kuali.rice.ksb.messaging.config.KSBConfigurer">
			<property name="messageDataSource">
				<ref local="tkDataSource" />
			</property>
			<property name="serviceServletUrl" value="${serviceServletUrl}" />
			<property name="registryDataSource">
				<ref local="enWorkflowDataSource" />
			</property>
			<property name="exceptionMessagingScheduler" ref="ksbScheduler" />

			<property name="webModuleConfigurationFiles" value="/ksb/WEB-INF/struts-config.xml" />

        <!--  RICE UPGRADE 0.9.x to 1.1.1  -->
        <!--  Removed: NotWritablePropertyException  -->
        <!--  			
            <property name="authorizationService">
            	<ref bean="kimAuthenticationService" />
            </property>
           -->
			
		</bean>
		</property>
		
		<property name="kewConfigurer">
           <bean class="org.kuali.rice.kew.config.KEWConfigurer">
                    <property name="dataSource">
                        <ref local="enWorkflowDataSource"/>
                    </property>
                    <property name="runMode" value="embedded"/>
           </bean>
        </property>
        
        <property name="knsConfigurer">
           <bean class="org.kuali.rice.kns.config.KNSConfigurer">
                  <property name="validateDataDictionary" value="true"/>
                  <property name="webModuleConfigurationFiles" value="/kr/WEB-INF/struts-config.xml"/>


            </bean>
        </property>
        <property name="kimConfigurer">
        	<bean class="org.kuali.rice.kim.config.KIMConfigurer">
        		<property name="runMode" value="embedded"/>
        	</bean>
        </property>


        <property name="additionalSpringFiles">
    		<list>
      			<value>classpath:edu/iu/uis/rice/resources/IUKimOverrideSpringBeans.xml</value>
    		</list>
  	   </property>

       <property name="kcbConfigurer">
             <bean class="org.kuali.rice.kcb.config.KCBConfigurer" />
        </property>        
        <!-- 
                <property name="modules">
           <list>
                <bean class="edu.iu.uis.eden.messaging.config.KSBConfigurer">
                    <property name="messageDataSource"><ref local="tkDataSource"/></property>
                    <property name="serviceServletUrl" value="${serviceServletUrl}" />
                    <property name="registryDataSource"><ref local="enWorkflowDataSource"/></property>
                    <property name="exceptionMessagingScheduler" ref="ksbScheduler" />
                    <property name="authorizationService">
                        <ref bean="timeAuthorizationService" />
                    </property>
                </bean>
                <bean class="org.kuali.workflow.config.KEWConfigurer">
                    <property name="clientProtocol" value="local" />
                    <property name="dataSource">
                        <ref local="enWorkflowDataSource"/>
                    </property>
                </bean>
            </list>
        </property>
        -->
    </bean>


    <bean id="kimIdentityManagementService" class="edu.iu.hrms.hredoc.document.authorizer.HreDocumentIdentityServiceImpl" />
	<bean id="kualiModuleService" class="org.kuali.rice.kns.service.impl.KualiModuleServiceImpl" />

    <bean id="ojbRepoLoader" class="edu.iu.uis.hr.tk.util.SpringBasedOJBRepositoryLoader">
    	<property name="pathLocations">
    		<list>
    			<!-- <value>workflow_repository.xml</value> -->
    			<value>ojb-repository.xml</value>
    		</list>
    	</property>
    </bean>

     <!-- begin rice override -->
    <bean id="dateTimeService" class="org.kuali.rice.kns.service.impl.DateTimeServiceImpl">
		<!-- 
		<property name="sqlDateFormats">
			<list>
				<value>yyyy-MM-dd</value>
				<value>MM/dd/yyyy</value>
				<value>MM/dd/yy</value>
				<value>MM-dd-yyyy</value>
				<value>MM-dd-yy</value>
			</list>
		</property>
		<property name="stringDateFormats">
			<list>
				<value>MM/dd/yyyy</value>
			</list>
		</property>
		<property name="stringDateTimeFormats">
		 <list>
		 <value>MM/dd/yyyy hh:mm a</value>
		 </list>
		</property>
		-->
	</bean>
    

	<!-- workflow users -->
    <bean id="enAdsService" class="edu.iu.uis.eden.ads.AdsServiceImpl" />
    
   <!--   <bean id="enWorkgroupDAO" class="edu.iu.uis.eden.workgroup.IUBaseWorkgroupDAOOjbImpl">
                    <property name="jcdAlias" value="enWorkflowDataSource" />
    </bean>-->

<!--     <bean id="enWorkgroupService" class="edu.iu.uis.eden.workgroup.IUWorkgroupServiceImpl">
        <property name="workgroupDAO">
            <ref bean="enWorkgroupDAO" />
        </property>
        <property name="workgroupMemberDAO">
                <bean id="enWorkgroupMemberDAO" class="edu.iu.uis.eden.workgroup.IUBaseWorkgroupMemberDAOOjbImpl">
			        <property name="jcdAlias" value="enWorkflowDataSource" />
			    </bean>
        </property>
    </bean>

    <bean id="enUserService" class="edu.iu.uis.eden.user.IUUserServiceImpl">
    	<property name="userDAO">
    		<bean id="enUserDAO" class="edu.iu.uis.eden.user.IUBaseUserDAOOjbImpl">
    			<property name="jcdAlias" value="enWorkflowDataSource" />
    		</bean>
    	</property>
    </bean>
-->
    <bean id="webAuthenticationService" class="edu.iu.uis.hr.TKWebAuthenticationService" />
    <alias name="webAuthenticationService" alias="enWebAuthenticationService" />
    <!-- end workflow user services-->


	<!--  This is the service that KIM will look for to authenticate the user, we need something identified by this bean ID.  I'm
	not sure about the other authentication services. -->
 	<bean id="kimAuthenticationService" class="edu.iu.uis.hr.TKWebAuthenticationService" />



    <bean id="entityFilterControlledValueFieldsLogic" class="edu.iu.uis.hr.tk.entity.logic.EntityFilterControlledValueFieldsLogicImpl"/>

    <bean id="transactionManager" class="org.springframework.transaction.jta.JtaTransactionManager">
        <property name="userTransaction">
            <ref local="jotm" />
        </property>
        <property name="transactionManager">
            <ref local="jotm" />
        </property>
    </bean>

    <bean id="matchAllWithPropReqCheckedException" class="org.springframework.transaction.interceptor.MatchAlwaysTransactionAttributeSource" lazy-init="true">
        <property name="transactionAttribute">
            <value>PROPAGATION_REQUIRED,-Exception</value>
        </property>
    </bean>

    <bean id="matchAllWithPropReq" class="org.springframework.transaction.interceptor.MatchAlwaysTransactionAttributeSource" lazy-init="true">
        <property name="transactionAttribute">
            <value>PROPAGATION_REQUIRED</value>
        </property>
    </bean>

    <bean id="matchAllTxInterceptor" class="org.springframework.transaction.interceptor.TransactionInterceptor" lazy-init="true">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="transactionAttributeSource">
            <ref bean="matchAllWithPropReq" />
        </property>
    </bean>

	<bean id="autoProxyCreator"
		class="org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator">
		<property name="interceptorNames">
			<list>
				<idref local="matchAllTxInterceptor" />
			</list>
		</property>
		<property name="beanNames">
			<list>
				<idref local="tkTranslateService"/>
				<idref local="ruleService"/>
				<idref local="payrollExtractService"/>
				<idref local="timesheetService"/>
				<idref local="userPreferenceService"/>
				<idref local="departmentService"/>
				<idref local="jobService"/>
				<idref local="assignmentService"/>
				<idref local="earningService"/>
				<idref local="employeeService"/>
				<idref local="leaveAccrualService"/>
				<idref local="rolesService"/>
				<idref local="enAdsService"/>
			</list>
		</property>
	</bean>
	
	<bean id="hreUserGroupService" class="edu.iu.hrms.hredoc.user.service.HreUserGroupServiceImpl"/>	
    	
	<!-- oscache -->
	<bean id="cacheAdministrator" class="com.opensymphony.oscache.general.GeneralCacheAdministrator" destroy-method="destroy" depends-on="rice">
        <constructor-arg index="0">
            <props>
                <prop key="cache.memory">true</prop>
                <prop key="cache.capacity">20000</prop>
                <prop key="cache.algorithm">com.opensymphony.oscache.base.algorithm.LRUCache</prop>
            </props>
        </constructor-arg>
    </bean>
    
    <bean id="cacheAspect" class="edu.iu.uis.hredoc.administration.TKCacheAspect" />
    <bean id="cacheManager" class="edu.iu.hrms.hredoc.cache.CacheManagementServiceImpl" >
        <property name="cacheAdministrator"><ref bean="cacheAdministrator" /></property>
    </bean>	
    
	<!-- end oscache -->

	<!-- Data accessors -->

	<bean id="edsDataAccess"
		class="edu.iu.uis.hr.directory.dataaccess.EdsDataAccessImpl" />
	<bean id="adsDataAccess"
		class="edu.iu.uis.hr.directory.dataaccess.AdsDataAccessImpl" />
	<bean id="workflowDataAccess"
		class="edu.iu.uis.hr.workflow.dataaccess.WorkflowDataAccessImpl" />
	<bean id="accountDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.AccountDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>

	<bean id="subAccountDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.SubAccountDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="chartOfAccountsDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.ChartOfAccountsDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="organizationDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.OrganizationDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="projectDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.ProjectDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="subObjectDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.SubObjectDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="objectDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.ObjectDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="businessUnitDataAccess"
		class="edu.iu.uis.hr.dataaccess.BusinessUnitDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="locationDataAccess"
		class="edu.iu.uis.hr.position.dataaccess.LocationDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="setControlMappingDataAccess"
		class="edu.iu.uis.hr.dataaccess.SetControlMappingDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="translateDataAccess"
		class="edu.iu.uis.hr.dataaccess.TranslateDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="personDataAccess"
		class="edu.iu.uis.hr.person.dataaccess.PersonDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="jobDataAccess"
		class="edu.iu.uis.hr.job.dataaccess.JobDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="positionDataAccess"
		class="edu.iu.uis.hr.position.dataaccess.PositionDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="frequencyDataAccess"
		class="edu.iu.uis.hr.position.dataaccess.FrequencyDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="departmentDataAccess"
		class="edu.iu.uis.hr.position.dataaccess.DepartmentDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="jobcodeDataAccess"
		class="edu.iu.uis.hr.position.dataaccess.JobcodeDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="salaryPlanDataAccess"
		class="edu.iu.uis.hr.position.dataaccess.SalaryPlanDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="gradeDataAccess"
		class="edu.iu.uis.hr.position.dataaccess.GradeDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="censusCodeDataAccess"
		class="edu.iu.uis.hr.position.dataaccess.CensusCodeDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="jobFamilyDataAccess"
		class="edu.iu.uis.hr.position.dataaccess.JobFamilyDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="earnProgramDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.EarnProgramDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="paygroupDataAccess"
		class="edu.iu.uis.hr.job.dataaccess.PaygroupDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="earnCodeDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.EarnCodeDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="voucherCodeDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.VoucherCodeDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="workAreaDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.WorkAreaDataAccessOjb">
		<property name="dataSource">
			<ref bean="tkDataSource" />
		</property>
		<property name="jcdAlias">
			<value>tkDataSource</value>
		</property>
	</bean>
	<bean id="taskDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.TaskDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="payCalendarDataAccess"
		class="edu.iu.uis.hr.job.funding.dataaccess.PayCalendarDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>
	<bean id="holidayDataAccess"
		class="edu.iu.uis.hr.job.dataaccess.HolidayDataAccessOjb">
		<property name="dataSource">
			<ref bean="hrSudsDataSource" />
		</property>
		<property name="jcdAlias">
			<value>hrSudsDataSource</value>
		</property>
	</bean>


	<!-- Services -->
	<bean id="emailService" class="edu.iu.uis.hr.service.EmailServiceImpl" >
	</bean>
	<bean id="logicService" class="edu.iu.uis.hr.service.LogicServiceImpl" scope="prototype" >
	    <property name="setControlService">
	    	<ref bean="setControlService"/>
	    </property>
	</bean>
	<bean id="authorizationService" class="edu.iu.uis.hr.service.AuthorizationServiceImpl" >
	    <property name="modeFactory">
	    	<ref bean="modeFactory"/>
	    </property>
	</bean>
	<bean id="setControlService" class="edu.iu.uis.hr.service.SetControlServiceImpl">
	    <property name="setControlMappingDataAccess">
	    	<ref bean="setControlMappingDataAccess"/>
	    </property>
	    <property name="businessUnitDataAccess">
	    	<ref bean="businessUnitDataAccess"/>
	    </property>
	</bean>
	<bean id="translateService" class="edu.iu.uis.hr.service.TranslateServiceImpl">
	    <property name="translateDataAccess">
	    	<ref bean="translateDataAccess"/>
	    </property>
	</bean>
	<bean id="jobService" class="edu.iu.uis.hr.job.service.JobServiceImpl">
	    <property name="jobDataAccess">
	    	<ref bean="jobDataAccess"/>
	    </property>
	</bean>
	<bean id="accountingService" class="edu.iu.uis.hr.job.funding.service.AccountingServiceImpl">
	    <property name="accountDataAccess">
	    	<ref bean="accountDataAccess"/>
	    </property>
	    <property name="subAccountDataAccess">
	    	<ref bean="subAccountDataAccess"/>
	    </property>
	    <property name="chartOfAccountsDataAccess">
	    	<ref bean="chartOfAccountsDataAccess"/>
	    </property>
	    <property name="organizationDataAccess">
	    	<ref bean="organizationDataAccess"/>
	    </property>
	    <property name="projectDataAccess">
	    	<ref bean="projectDataAccess"/>
	    </property>
	    <property name="subObjectDataAccess">
	    	<ref bean="subObjectDataAccess"/>
	    </property>
	    <property name="objectDataAccess">
	    	<ref bean="objectDataAccess"/>
	    </property>
	</bean>
	<bean id="positionService" class="edu.iu.uis.hr.position.service.PositionServiceImpl">
	    <property name="positionDataAccess">
	    	<ref bean="positionDataAccess"/>
	    </property>
	    <property name="departmentDataAccess">
	    	<ref bean="departmentDataAccess"/>
	    </property>
	    <property name="jobcodeDataAccess">
	    	<ref bean="jobcodeDataAccess"/>
	    </property>
	    <property name="salaryPlanDataAccess">
	    	<ref bean="salaryPlanDataAccess"/>
	    </property>
	    <property name="censusCodeDataAccess">
	    	<ref bean="censusCodeDataAccess"/>
	    </property>
	    <property name="jobFamilyDataAccess">
	    	<ref bean="jobFamilyDataAccess"/>
	    </property>
	    <property name="locationDataAccess">
	    	<ref bean="locationDataAccess"/>
	    </property>
	    <property name="gradeDataAccess">
	    	<ref bean="gradeDataAccess"/>
	    </property>
	    <property name="frequencyDataAccess">
	    	<ref bean="frequencyDataAccess"/>
	    </property>
	</bean>

	<bean id="tkPersonService" class="edu.iu.uis.hr.person.service.PersonServiceImpl">
	    <property name="personDataAccess">
	    	<ref bean="personDataAccess"/>
	    </property>
	    <property name="directoryService">
	    	<ref bean="directoryService"/>
	    </property>
	</bean>
	<bean id="payCalendarService" class="edu.iu.uis.hr.job.funding.service.PayCalendarServiceImpl">
	    <property name="payCalendarDataAccess">
	    	<ref bean="payCalendarDataAccess"/>
	    </property>
	</bean>
	<bean id="sequencedKeyService" class="edu.iu.uis.hr.service.SequencedKeyServiceImpl">
	    <property name="sequencedKeyDataAccess">
	    	<ref bean="sequencedKeyDataAccess"/>
	    </property>
	</bean>
	<bean id="holidayService" class="edu.iu.uis.hr.job.service.HolidayServiceImpl">
	    <property name="holidayDataAccess">
	    	<ref bean="holidayDataAccess"/>
	    </property>
	</bean>
	<bean id="clockLocationService" class="edu.iu.uis.hr.tk.rule.service.ClockLocationServiceImpl">
        <property name="clockLogDataAccess">
            <ref bean="clockLogDataAccess"/>
        </property>
    </bean>

	

	<!-- Messaging -->
	<bean id="messageSource" class="org.springframework.context.support.ResourceBundleMessageSource">
		<property name="basenames">
			<list>
				<value>edu.iu.uis.hr.client.PageInstructions</value>
				<value>edu.iu.uis.hr.client.PageLinks</value>
				<value>edu.iu.uis.hr.job.LocationTimeZone</value>
				<value>edu.iu.uis.hr.entity.logic.ValidationErrors</value>
				<value>edu.iu.uis.hr.entity.logic.ValidationWarnings</value>
				<!-- Not used: <value>edu.iu.uis.hr.Kiosk</value> -->
				<value>edu.iu.uis.hr.tk.client.PageLinks</value>
				<value>edu.iu.uis.hr.tk.department.entity.logic.ValidationErrors</value>
				<value>edu.iu.uis.hr.tk.directory.entity.logic.ValidationErrors</value>
				<value>edu.iu.uis.hr.tk.extract.entity.logic.ValidationErrors</value>
				<value>edu.iu.uis.hr.tk.rule.entity.logic.ValidationErrors</value>
				<value>edu.iu.uis.hr.tk.timesheet.entity.logic.ValidationErrors</value>
				<value>edu.iu.uis.hr.job.entity.logic.ValidationErrors</value>
			</list>
		</property>
	</bean>
	<bean id="locale" class="java.util.Locale">
		<constructor-arg>
			<value>en</value>
		</constructor-arg>
	</bean>
	<bean id="messageSourceAccessor" class="org.springframework.context.support.MessageSourceAccessor">
		<constructor-arg>
			<ref bean="messageSource"/>
		</constructor-arg>
		<constructor-arg>
			<ref bean="locale"/>
		</constructor-arg>
	</bean>
	<bean id="resourceBundle" class="org.springframework.context.support.MessageSourceResourceBundle">
		<constructor-arg>
			<ref bean="messageSource"/>
		</constructor-arg>
		<constructor-arg>
			<ref bean="locale"/>
		</constructor-arg>
	</bean>
	<bean id="springMessages" class="javax.servlet.jsp.jstl.fmt.LocalizationContext">
		<constructor-arg>
			<ref bean="resourceBundle"/>
		</constructor-arg>
	</bean>
	<bean id="localeResolver" class="org.springframework.web.servlet.i18n.FixedLocaleResolver">
		<property name="defaultLocale">
			<ref bean="locale"/>
		</property>
	</bean>


   <!--  TK dataaccessors -->
	<bean id="sequencedKeyDataAccess" class="edu.iu.uis.hr.dataaccess.SequencedKeyDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="tkTranslateDataAccess" class="edu.iu.uis.hr.tk.dataaccess.TranslateDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="shiftDifferentialRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.ShiftDifferentialRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="holidayIncentiveRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.HolidayIncentiveRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>

	<bean id="dailyOvertimeRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.DailyOvertimeRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="gracePeriodRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.GracePeriodRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="weeklyOvertimeRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.WeeklyOvertimeRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="systemLunchRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.SystemLunchRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="departmentLunchRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.DepartmentLunchRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="breakRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.BreakRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="hourlyHoursRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.HourlyHoursRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="clockLocationRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.ClockLocationRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="timeCollectionRuleDataAccess" class="edu.iu.uis.hr.tk.rule.dataaccess.TimeCollectionRuleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="tkDepartmentDataAccess" class="edu.iu.uis.hr.tk.department.dataaccess.DepartmentDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="tkWorkAreaDataAccess" class="edu.iu.uis.hr.tk.department.dataaccess.WorkAreaDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="payrollExtractScheduleDataAccess" class="edu.iu.uis.hr.tk.extract.dataaccess.PayrollExtractScheduleDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="payEarningsDataAccess" class="edu.iu.uis.hr.tk.extract.dataaccess.PayEarningsDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="payrollInterfaceDataAccess" class="edu.iu.uis.hr.tk.extract.dataaccess.PayrollInterfaceDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="documentHeaderDataAccess" class="edu.iu.uis.hr.tk.timesheet.dataaccess.DocumentHeaderDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="documentHeaderSnapshotDataAccess" class="edu.iu.uis.hr.tk.timesheet.dataaccess.DocumentHeaderSnapshotDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="documentLockDataAccess" class="edu.iu.uis.hr.tk.timesheet.dataaccess.DocumentLockDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="employeeDataAccess" class="edu.iu.uis.hr.tk.employee.dataaccess.EmployeeDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="hrSudsDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>hrSudsDataSource</value>
	    </property>
	</bean>
	<bean id="leaveAccrualDataAccess" class="edu.iu.uis.hr.tk.employee.dataaccess.LeaveAccrualDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="hrSudsDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>hrSudsDataSource</value>
	    </property>
	</bean>
	<bean id="earningsAccrualDataAccess" class="edu.iu.uis.hr.tk.employee.dataaccess.EarningsAccrualDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="hrSudsDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>hrSudsDataSource</value>
	    </property>
	</bean>
	<bean id="tkJobDataAccess" class="edu.iu.uis.hr.tk.job.dataaccess.JobDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="hrSudsDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>hrSudsDataSource</value>
	    </property>
	</bean>
	<bean id="clockLogDataAccess" class="edu.iu.uis.hr.tk.timesheet.dataaccess.ClockLogDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="timeBlockDataAccess" class="edu.iu.uis.hr.tk.timesheet.dataaccess.TimeBlockDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="timeBlockHistoryDataAccess" class="edu.iu.uis.hr.tk.timesheet.dataaccess.TimeBlockHistoryDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="userPreferenceDataAccess" class="edu.iu.uis.hr.tk.dataaccess.UserPreferenceDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="preferenceDataAccess" class="edu.iu.uis.hr.tk.dataaccess.PreferenceDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="roleAuditDataAccess" class="edu.iu.uis.hr.tk.directory.dataaccess.RoleAuditDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="batchMessageDataAccess" class="edu.iu.uis.hr.tk.report.dataaccess.BatchMessageDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>

	<!-- HR Dataaccess -->

	<bean id="hrSequencedKeyDataAccess" class="edu.iu.uis.hr.dataaccess.SequencedKeyDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="hrSudsDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>hrSudsDataSource</value>
	    </property>
	</bean>
	<bean id="finalApprovalWorkgroupDataAccess" class="edu.iu.uis.hr.workflow.dataaccess.FinalApprovalWorkgroupDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="hreDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>hreDataSource</value>
	    </property>
	</bean>
	<bean id="helpDataAccess" class="edu.iu.uis.hr.help.dataaccess.HelpDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="tkDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>tkDataSource</value>
	    </property>
	</bean>
	<bean id="administrativePostDataAccess" class="edu.iu.uis.hr.job.administrativeposts.dataaccess.AdministrativePostDataAccessOjb">
	    <property name="dataSource">
	    	<ref bean="hreDataSource" />
	    </property>
	    <property name="jcdAlias">
	    	<value>hreDataSource</value>
	    </property>
	</bean>

   <!-- TK services -->
   <bean id="directoryService" class="edu.iu.uis.hr.directory.service.DirectoryServiceImpl">
    <property name="adsDataAccess">
    	<ref bean="adsDataAccess"/>
    </property>
    <property name="edsDataAccess">
    	<ref bean="edsDataAccess"/>
    </property>
	</bean>
	<bean id="webUserService" class="edu.iu.uis.hr.tk.directory.service.WebUserServiceImpl">
		<property name="directoryService">
			<ref bean="directoryService" />
		</property>
	</bean>
	<bean id="earningService" class="edu.iu.uis.hr.tk.job.funding.service.EarningServiceImpl">
	    <property name="earnCodeDataAccess">
	    	<ref bean="earnCodeDataAccess"/>
	    </property>
	    <property name="earnProgramDataAccess">
	    	<ref bean="earnProgramDataAccess"/>
	    </property>
	    <property name="voucherCodeDataAccess">
	    	<ref bean="voucherCodeDataAccess"/>
	    </property>
	    <property name="paygroupDataAccess">
	    	<ref bean="paygroupDataAccess"/>
	    </property>
	    <property name="payCalendarService">
			<ref bean="payCalendarService" />
		</property>
	</bean>
	<bean id="rolesService" class="edu.iu.uis.hr.tk.directory.service.RolesServiceImpl" lazy-init="true">
		<property name="directoryService">
			<ref bean="directoryService" />
		</property>
		<property name="webUserService">
			<ref bean="webUserService" />
		</property>
		<property name="positionService">
			<ref bean="positionService" />
		</property>
		<property name="assignmentService">
			<ref bean="assignmentService" />
		</property>
		<property name="roleAuditDataAccess">
			<ref bean="roleAuditDataAccess" />
		</property>
	</bean>
	<bean id="kiosksService" class="edu.iu.uis.hr.tk.directory.service.KiosksServiceImpl">
		<property name="adsDataAccess">
			<ref bean="adsDataAccess" />
		</property>
	</bean>
	<bean id="ruleService" class="edu.iu.uis.hr.tk.rule.service.RuleServiceImpl">
		<property name="gracePeriodRuleDataAccess">
			<ref bean="gracePeriodRuleDataAccess" />
		</property>
		<property name="systemLunchRuleDataAccess">
			<ref bean="systemLunchRuleDataAccess" />
		</property>
		<property name="dailyOvertimeRuleDataAccess">
			<ref bean="dailyOvertimeRuleDataAccess" />
		</property>
		<property name="weeklyOvertimeRuleDataAccess">
			<ref bean="weeklyOvertimeRuleDataAccess" />
		</property>
		<property name="shiftDifferentialRuleDataAccess">
			<ref bean="shiftDifferentialRuleDataAccess" />
		</property>
		<property name="holidayIncentiveRuleDataAccess">
			<ref bean="holidayIncentiveRuleDataAccess" />
		</property>
		<property name="timeCollectionRuleDataAccess">
			<ref bean="timeCollectionRuleDataAccess" />
		</property>
		<property name="breakRuleDataAccess">
			<ref bean="breakRuleDataAccess" />
		</property>
		<property name="clockLocationRuleDataAccess">
			<ref bean="clockLocationRuleDataAccess" />
		</property>
		<property name="departmentLunchRuleDataAccess">
			<ref bean="departmentLunchRuleDataAccess" />
		</property>
		<property name="hourlyHoursRuleDataAccess">
			<ref bean="hourlyHoursRuleDataAccess" />
		</property>
		<property name="webUserService">
			<ref bean="webUserService" />
		</property>
	</bean>
	<bean id="departmentService" class="edu.iu.uis.hr.tk.department.service.DepartmentServiceImpl"  lazy-init="true">
		<property name="rolesService">
			<ref bean="rolesService" />
		</property>
		<property name="directoryService">
			<ref bean="directoryService" />
		</property>
		<property name="departmentDataAccess">
			<ref bean="tkDepartmentDataAccess" />
		</property>
	</bean>
	<bean id="tkTranslateService" class="edu.iu.uis.hr.tk.service.TranslateServiceImpl">
		<property name="translateDataAccess">
			<ref bean="tkTranslateDataAccess" />
		</property>
	</bean>
	<bean id="payrollExtractService" class="edu.iu.uis.hr.tk.extract.service.PayrollExtractServiceImpl">
		<property name="payrollExtractScheduleDataAccess">
			<ref bean="payrollExtractScheduleDataAccess" />
		</property>
		<property name="payEarningsDataAccess">
			<ref bean="payEarningsDataAccess" />
		</property>
			<property name="payrollInterfaceDataAccess">
			<ref bean="payrollInterfaceDataAccess" />
		</property>
		<property name="webUserService">
			<ref bean="webUserService" />
		</property>
		<property name="emailService">
			<ref bean="emailService" />
		</property>
	</bean>
	 
	<bean id="timesheetService" class="edu.iu.uis.hr.tk.timesheet.service.TimesheetServiceImpl">
		<property name="documentHeaderDataAccess">
			<ref bean="documentHeaderDataAccess" />
		</property>
		<property name="documentHeaderSnapshotDataAccess">
			<ref bean="documentHeaderSnapshotDataAccess" />
		</property>
		<property name="webUserService">
			<ref bean="webUserService" />
		</property>
		<property name="directoryService">
			<ref bean="directoryService" />
		</property>
		<property name="clockLogDataAccess">
			<ref bean="clockLogDataAccess" />
		</property>
		<property name="timeBlockDataAccess">
			<ref bean="timeBlockDataAccess" />
		</property>
		<property name="timeBlockHistoryDataAccess">
			<ref bean="timeBlockHistoryDataAccess" />
		</property>
		<property name="earningService">
			<ref bean="earningService" />
		</property>
		<property name="jobService">
			<ref bean="tkJobService" />
		</property>
		<property name="assignmentService">
			<ref bean="assignmentService" />
		</property>
		<property name="documentLockDataAccess">
			<ref bean="documentLockDataAccess" />
		</property>
		<property name="payCalendarService">
			<ref bean="payCalendarService" />
		</property>
		<property name="ruleService">
			<ref bean="ruleService" />
		</property>
		<property name="leaveAccrualService">
			<ref bean="leaveAccrualService" />
		</property>
		<property name="translateService">
			<ref bean="translateService" />
		</property>
		<property name="weeklyOvertimeRuleDataAccess">
			<ref bean="weeklyOvertimeRuleDataAccess" />
		</property>
		<property name="dailyOvertimeRuleDataAccess">
			<ref bean="dailyOvertimeRuleDataAccess" />
		</property>
		<property name="holidayService">
			<ref bean="holidayService" />
		</property>
		<property name="userPreferenceService">
			<ref bean="userPreferenceService" />
		</property>
		<property name="positionService">
			<ref bean="positionService" />
		</property>
	</bean>
	<bean id="employeeService" class="edu.iu.uis.hr.tk.employee.service.EmployeeServiceImpl">
		<property name="employeeDataAccess">
			<ref bean="employeeDataAccess" />
		</property>
	</bean>
	<bean id="leaveAccrualService" class="edu.iu.uis.hr.tk.employee.service.LeaveAccrualServiceImpl">
		<property name="leaveAccrualDataAccess">
			<ref bean="leaveAccrualDataAccess" />
		</property>
		<property name="earningsAccrualDataAccess">
			<ref bean="earningsAccrualDataAccess" />
		</property>
	</bean>
	<bean id="tkJobService" class="edu.iu.uis.hr.tk.job.service.JobServiceImpl" lazy-init="true">
		<property name="jobDataAccess">
			<ref bean="tkJobDataAccess" />
		</property>
		<property name="payCalendarService">
			<ref bean="payCalendarService" />
		</property>

	</bean>
	<bean id="userPreferenceService" class="edu.iu.uis.hr.tk.service.UserPreferenceServiceImpl">
		<property name="userPreferenceDataAccess">
			<ref bean="userPreferenceDataAccess" />
		</property>
		<property name="preferenceDataAccess">
			<ref bean="preferenceDataAccess" />
		</property>
		<property name="webUserService">
			<ref bean="webUserService" />
		</property>
		<property name="assignmentService">
			<ref bean="assignmentService" />
		</property>
	</bean>
	<bean id="assignmentService" class="edu.iu.uis.hr.tk.job.funding.service.AssignmentServiceImpl" >
		<property name="workAreaDataAccess">
			<ref bean="workAreaDataAccess" />
		</property>
		<property name="taskDataAccess">
			<ref bean="taskDataAccess" />
		</property>
		<property name="jobService">
			<ref bean="tkJobService" />
		</property>
		<property name="ruleService">
			<ref bean="ruleService" />
		</property>
	</bean>
	<!--  TODO : no xml file for this particular bean yet. put here temporarily -->
	<bean id="payrollExtractThread" class="edu.iu.uis.hr.tk.extract.client.PayrollExtractThread">
		<property name="webUserService">
			<ref bean="webUserService" />
		</property>
		<property name="emailService">
			<ref bean="emailService" />
		</property>
		<property name="jobService">
			<ref bean="tkJobService" />
		</property>
		<property name="timesheetService">
			<ref bean="timesheetService" />
		</property>
		<property name="payrollExtractService">
			<ref bean="payrollExtractService" />
		</property>
	    <property name="batchMessageDataAccess">
	    	<ref bean="batchMessageDataAccess"/>
	    </property>
	</bean>
	<bean id="batchMessageService" class="edu.iu.uis.hr.tk.report.service.BatchMessageServiceImpl">
		<property name="batchMessageDataAccess">
			<ref bean="batchMessageDataAccess" />
		</property>
	</bean>

	<!-- HR Service -->
	<bean id="helpService" class="edu.iu.uis.hr.help.service.HelpServiceImpl">
    <property name="helpDataAccess">
    	<ref bean="helpDataAccess"/>
    </property>
	</bean>
	<bean id="finalApprovalService" class="edu.iu.uis.hr.workflow.service.FinalApprovalServiceImpl">
	    <property name="finalApprovalWorkgroupDataAccess">
	    	<ref bean="finalApprovalWorkgroupDataAccess"/>
	    </property>
	    <property name="workflowDataAccess">
	    	<ref bean="workflowDataAccess"/>
	    </property>
	</bean>
	<bean id="administrativePostService" class="edu.iu.uis.hr.job.administrativeposts.service.AdministrativePostServiceImpl">
	    <property name="administrativePostDataAccess">
	    	<ref bean="administrativePostDataAccess"/>
	    </property>
	</bean>



    <!-- TK Authorization -->
	<bean id="modeFactory" class="edu.iu.uis.hr.tk.ModeFactory">
	</bean>

	
	<!-- TK batch program -->
		<bean id="roleCleanup" class="edu.iu.uis.hr.tk.directory.client.RoleCleanupBatchProgram">
		    <property name="rolesService">
		    	<ref bean="rolesService"/>
		    </property>
		    <property name="webUserService">
		    	<ref bean="webUserService"/>
		    </property>
		</bean>
		
		<bean id="initiateDocument" class="edu.iu.uis.hr.tk.timesheet.client.InitiateDocumentBatchProgram">
		    <property name="timesheetService">
		    	<ref bean="timesheetService"/>
		    </property>
		    <property name="payCalendarService">
		    	<ref bean="payCalendarService"/>
		    </property>
		    <property name="employeeService">
		    	<ref bean="employeeService"/>
		    </property>
		    <property name="emailService">
		    	<ref bean="emailService"/>
		    </property>
		    <property name="batchMessageDataAccess">
		    	<ref bean="batchMessageDataAccess"/>
		    </property>
		</bean>
		<bean id="employeeApproval" class="edu.iu.uis.hr.tk.timesheet.client.EmployeeApprovalBatchProgram">
		    <property name="timesheetService">
		    	<ref bean="timesheetService"/>
		    </property>
		    <property name="payCalendarService">
		    	<ref bean="payCalendarService"/>
		    </property>
			<property name="directoryService">
				<ref bean="directoryService" />
			</property>
		    <property name="emailService">
		    	<ref bean="emailService"/>
		    </property>
		    <property name="batchMessageDataAccess">
		    	<ref bean="batchMessageDataAccess"/>
		    </property>
		</bean>
		<bean id="reminderUserDaily" class="edu.iu.uis.hr.tk.client.RemindUserDailyBatchProgram">
			<property name="directoryService">
				<ref bean="directoryService" />
			</property>
		    <property name="emailService">
		    	<ref bean="emailService"/>
		    </property>
		    <property name="payCalendarService">
		    	<ref bean="payCalendarService"/>
		    </property>
		    <property name="timesheetService">
		    	<ref bean="timesheetService"/>
		    </property>
		    <property name="userPreferenceService">
		    	<ref bean="userPreferenceService"/>
		    </property>
		</bean>
		<bean id="reminderUserBiweekly" class="edu.iu.uis.hr.tk.client.RemindUserBiweeklyBatchProgram">
		    <property name="assignmentService">
		    	<ref bean="assignmentService"/>
		    </property>
			<property name="directoryService">
				<ref bean="directoryService" />
			</property>
		    <property name="emailService">
		    	<ref bean="emailService"/>
		    </property>
		    <property name="payCalendarService">
		    	<ref bean="payCalendarService"/>
		    </property>
		    <property name="rolesService">
		    	<ref bean="rolesService"/>
		    </property>
		    <property name="userPreferenceService">
		    	<ref bean="userPreferenceService"/>
		    </property>
		</bean>
		<bean id="reminderUserWeekly" class="edu.iu.uis.hr.tk.client.RemindUserWeeklyBatchProgram">
		    <property name="assignmentService">
		    	<ref bean="assignmentService"/>
		    </property>
			<property name="directoryService">
				<ref bean="directoryService" />
			</property>
		    <property name="emailService">
		    	<ref bean="emailService"/>
		    </property>
		    <property name="payCalendarService">
		    	<ref bean="payCalendarService"/>
		    </property>
		    <property name="userPreferenceService">
		    	<ref bean="userPreferenceService"/>
		    </property>
		</bean>
		<bean id="endPayPeriodTimesheetBatchProgram" class="edu.iu.uis.hr.tk.timesheet.client.EndPayPeriodTimesheetBatchProgram">
		    <property name="assignmentService">
		    	<ref bean="assignmentService"/>
		    </property>
		    <property name="clockLogDataAccess">
		      	<ref bean="clockLogDataAccess"/>
		    </property>
		    <property name="payCalendarService">
		    	<ref bean="payCalendarService"/>
		    </property>
		    <property name="timesheetService">
		    	<ref bean="timesheetService"/>
		    </property>
		    <property name="documentLockDataAccess">
		    	<ref bean="documentLockDataAccess"/>
		    </property>
		</bean>


		<!--
		<bean id="fileControl" class="edu.iu.uis.hr.tk.io.scp.FileControl">
		</bean>
		 -->


		<bean id="testEmployeeApproval" class="edu.iu.uis.hr.tk.timesheet.client.TestEmployeeApprovalBatchProgram">
		    <property name="timesheetService">
		    	<ref bean="timesheetService"/>
		    </property>
		    <property name="payCalendarService">
		    	<ref bean="payCalendarService"/>
		    </property>
			<property name="directoryService">
				<ref bean="directoryService" />
			</property>
		</bean>

		<bean id="timesheetUtilityBatchProgram" class="edu.iu.uis.hr.tk.timesheet.client.TimesheetUtilityBatchProgram">
		    <property name="payCalendarService">
		    	<ref bean="payCalendarService"/>
		    </property>
		    <property name="timesheetService">
		    	<ref bean="timesheetService"/>
		    </property>
		     <property name="emailService">
		    	<ref bean="emailService"/>
		    </property>
			<property name="directoryService">
				<ref bean="directoryService" />
			</property>
		    <property name="jobService">
		    	<ref bean="tkJobService"/>
		    </property>
		</bean>

   <!-- Class not used any longer  
		<bean id="finalizeDocumentsBatchProgram" class="edu.iu.uis.hr.tk.extract.client.FinalizeDocumentsBatchProgram">
		    <property name="timesheetService">
		    	<ref bean="timesheetService"/>
		    </property>
		     <property name="emailService">
		    	<ref bean="emailService"/>
		    </property>
		    <property name="payrollExtractService">
		    	<ref bean="payrollExtractService"/>
		    </property>
		    <property name="batchMessageDataAccess">
		    	<ref bean="batchMessageDataAccess"/>
		    </property>
		    <property name="jobService">
		    	<ref bean="tkJobService"/>
		    </property>
		    <property name="payCalendarService">
		    	<ref bean="payCalendarService"/>
		    </property>
		</bean>
	 -->

     <!-- Workflow Plugin 

	<bean id="roleAttribute" class="edu.iu.uis.hr.tk.workflow.SupervisorPayrollProcessorRoleAttributeImpl">
	    <property name="adsDataAccess">
	    	<ref bean="adsDataAccess"/>
	    </property>
	    <property name="timesheetService">
	    	<ref bean="timesheetService"/>
	    </property>
	</bean>
	<bean id="delegateValidationRuleAttribute" class="edu.iu.uis.hr.tk.workflow.DelegateValidationRuleAttributeImpl">
	    <property name="rolesService">
	    	<ref bean="rolesService"/>
	    </property>
	</bean>
	<bean id="postProcessor" class="edu.iu.uis.hr.tk.workflow.PostProcessorImpl">
	    <property name="timesheetService">
	    	<ref bean="timesheetService"/>
	    </property>
	</bean>


    <bean id="exportedBatchRunner" class="org.kuali.rice.ksb.messaging.KSBExporter">
        <property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <ref bean="batchRunnerService"/>
          </property>
          <property name="localServiceName" value="BatchRunnerService" />
          <property name="priority" value="3"/>
          <property name="retryAttempts" value="0" />
          <property name="messageExceptionHandler" value="org.kuali.rice.ksb.messaging.DefaultMessageExceptionHandler" />
        </bean>
        </property>
        <property name="forceRefresh" value="false" />
    </bean>
-->

    <bean id="exportedTimesheetService" class="org.kuali.rice.ksb.messaging.KSBExporter">
    	<property name="serviceDefinition">
    		<bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
    			<property name="service">
    				<ref bean="timesheetService" />
    			</property>
    			<property name="localServiceName" value="timesheetService" />
    			<property name="priority" value="3" />
    			<property name="retryAttempts" value="0" />
    			<property name="messageExceptionHandler"
    				value="edu.iu.uis.hr.tk.timesheet.service.AsynTimesheetMessageExceptionHandler" />
    		</bean>
    	</property>
    	<property name="forceRefresh" value="false" />
    </bean>
     
    <bean id="workflowSupportService" class="edu.iu.uis.hr.tk.workflow.WorkflowSupportServiceImpl" />
     
<!--  	<bean id="exportedWorkflowSupportService" class="edu.iu.uis.eden.messaging.KSBExporter" depends-on="exportedTimesheetService">
    	<property name="serviceDefinition">
    		<bean class="edu.iu.uis.eden.messaging.JavaServiceDefinition">
    			<property name="service">
    				<ref bean="workflowSupportService" />
    			</property>
    			<property name="localServiceName" value="workflowSupportService" />
    			<property name="priority" value="3" />
    			<property name="retryAttempts" value="0" />
    			<property name="messageExceptionHandler" value="edu.iu.uis.eden.messaging.exceptionhandling.DefaultMessageExceptionHandler" />
    		</bean>
    	</property>
    	<property name="forceRefresh" value="true" />
    </bean>-->
    
    <bean name="tkJdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
        <property name="dataSource" ref="tkDataSource" />
    </bean>

    <bean name="tkNonTransJdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
        <property name="dataSource" ref="nonTransDataSource" />
    </bean>

    <bean name="enJdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
        <property name="dataSource" ref="enWorkflowDataSource" />
    </bean>

    <bean name="configurationService" class="edu.iu.uis.hr.tk.config.TKConfigurationServiceImpl" />

    <bean id="tkThreadPoolManager" class="edu.iu.uis.hr.tk.batch.TKThreadPoolManager" />
    
    <bean name="tkInitializationBean" class="edu.iu.uis.hr.tk.config.TKInitializingBean" />
    
    <bean name="batchJobService" class="edu.iu.uis.hr.tk.batch.web.service.BatchJobServiceImpl" />
</beans>